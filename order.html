
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Orders - Mobile Store</title>
    <link rel="stylesheet" href="global.css">
    <link rel="stylesheet" href="order-style.css">
    <link rel="icon" href="https://thumbs.dreamstime.com/b/letter-ms-logo-hexagon-shape-colorful-background-combination-design-business-company-identity-203773397.jpg" type="image/jpg"/>

</head>
<body>


    <nav class="navbar">
      <div class="nav-container">
        <div class="nav-logo">
          <span>MS</span>
          <h3>Mobile Store</h3>
        </div>

        <ul class="nav-links">
          <li><a href="Home.html">Home</a></li>
          <li><a href="phones.html">Products</a></li>
          <li><a href="Accessories.html">Accessories</a></li>
          <li><a href="Contact_Us.html">Contact Us</a></li>
          <li><a href="order.html">Payment</a></li>
          <li><a href="cart.html">Cart</a></li>
        </ul>

        <div class="nav-auth">
          <a href="index.html" class="btn-login">Logout</a>
        </div>

      </div>
  </nav>


<div class="main-container">

  
  <div class="header-section">
    <div class="welcome-section">
      
        
      <div class="welcome-text">
        <h2 id="welcome-username">Welcome, Guest User!</h2>
        <p id="welcome-email">Here are your current orders</p>
      </div>
    </div>
    <h1>ğŸ“‹ My Orders</h1>
    <p>Manage and review your current orders</p>
  </div>

  
  <div id="no-orders" class="no-orders">
    <span class="material-icons">shopping_bag</span>
    <h3>No Orders Yet</h3>
    
    <a href="phones.html" class="shop-btn"> Browse Products</a>
  </div>

  <div id="has-orders" style="display:none;">
    <div class="orders-content">
      <div class="orders-list">
        <div class="order-header">
          <h2>Your Order Items</h2>
          <span id="order-count" class="order-count">0 items</span>
        </div>
        <div id="orders-list-container"></div>
        <div class="actions-section">
          <button onclick="clearAllOrders()" class="clear-all-btn"> Clear All</button>
        
        </div>
      </div>

      
      <div class="customer-info-sidebar">
        
       
        <div class="order-summary">
          <h3>ğŸ’° Order Summary</h3>
          <div id="order-summary-details"></div>
        </div>
      </div>
    </div>
  </div>

<br>

  <div id="address-section" class="section-box">
    <h2 class="section-title">ğŸ“¦ Shipping Address</h2>
    <div class="form-grid">
      <input id="fullName" class="input-field" type="text" placeholder="Full Name">
      <input id="phone" class="input-field" type="text" placeholder="Phone Number">
      <input id="city" class="input-field" type="text" placeholder="City">
      <input id="street" class="input-field" type="text" placeholder="Street Name">
      <textarea id="notes" class="input-field textarea-field" placeholder="Additional Notes"></textarea>
    </div>
    <p id="address-error" style="color:red; display:none;">âš ï¸ Please fill all fields correctly.</p>
    <button id="saveAddress" class="success-btn">Save Address</button>
  </div>

  
  <div id="payment-section" class="section-box" >
    <h2 class="section-title">ğŸ’³ Make Payment</h2>
    <p class="section-desc">Choose your preferred payment method:</p>
    <div class="payment-options">
      <label class="payment-option"><input type="radio" name="payment" value="wallet"> Payment Wallet</label>
      <label class="payment-option"><input type="radio" name="payment" value="cash"> Cash Payment</label>
      <label class="payment-option"><input type="radio" name="payment" value="credit"> Credit Card Payment</label>
    </div>
    <div id="credit-info" class="credit-info">
      <input class="input-field" type="text" placeholder="Card Number">
      <input class="input-field" type="text" placeholder="Card Holder Name">
      <div class="form-two">
        <input class="input-field" type="text" placeholder="MM/YY">
        <input class="input-field" type="text" placeholder="CVV">
      </div>
    </div>
    <button class="primary-btn" id="completePayment">Complete Payment</button>

  </div>

</div>


<footer class="footer">
  <div class="footer-container">
    <div>
      <div class="footer-logo"><span>MS</span><h3>Mobile Store</h3></div>
      <p>Your trusted place for all mobile phones, accessories, repairs, and latest tech solutions.</p>
    </div>
    <div>
      <h4>Quick Links</h4>
      <div class="footer-links-row">
        <a href="Home.html">Home</a>
        <a href="phones.html">Products</a>
        <a href="Contact_Us.html">Contact Us</a>
        <a href="#">About Us</a>
      </div>
    </div>
  </div>
  <div class="footer-bottom">Â© 2025 Mobile Store. All Rights Reserved.</div>
</footer>

<script>

const fields = Array.from(document.querySelectorAll("#address-section input, #address-section textarea, #payment-section input"));
fields.forEach((f,i)=>f.addEventListener("keydown",(e)=>{ if(e.key==="Enter"){ e.preventDefault(); const next=fields[i+1]; if(next) next.focus(); }}));



const saveBtn = document.getElementById("saveAddress");

saveBtn.addEventListener("click", () => {
    const name = document.getElementById("fullName").value.trim();
    const phone = document.getElementById("phone").value.trim();
    const city = document.getElementById("city").value.trim();
    const street = document.getElementById("street").value.trim();
    const notes = document.getElementById("notes").value.trim();
    const errorMsg = document.getElementById("address-error");

    // ØªØ­Ù‚Ù‚ Ù…Ù† Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ
    const phonePattern = /^(010|011|012|015)[0-9]{8}$/;

    if(!name || !phonePattern.test(phone) || !city || !street) {
        // Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± ØµØ­ÙŠØ­Ø©
        errorMsg.style.display = "block";
        return;
    }

    // Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØµØ­ÙŠØ­Ø©
    errorMsg.style.display = "none";

    // ØªØºÙŠÙŠØ± Ù„ÙˆÙ† Ø§Ù„Ø²Ø± Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø®Ø¶Ø± ÙˆØ¹Ø±Ø¶ âœ”
    saveBtn.style.background = "#10b981";
    saveBtn.textContent = "âœ” Address Saved!";

    // ØªÙØ¹ÙŠÙ„ Ù‚Ø³Ù… Ø§Ù„Ø¯ÙØ¹
    const paymentSection = document.getElementById("payment-section");
    paymentSection.style.pointerEvents = "auto";
    paymentSection.style.opacity = "1";
});
</script>

const radios=document.querySelectorAll("input[name='payment']");
const creditInfo=document.getElementById("credit-info");
const creditInputs=creditInfo.querySelectorAll("input");
radios.forEach(r=>r.addEventListener("change",()=>{
  if(r.value==="credit"){ creditInfo.style.display="block"; creditInputs.forEach(i=>i.required=true); }
  else{ creditInfo.style.display="none"; creditInputs.forEach(i=>i.required=false); }
}));
</script>
<script>
// Load cart items into order page
document.addEventListener("DOMContentLoaded", loadOrders);

function loadOrders() {
    const orders = JSON.parse(localStorage.getItem("cart")) || [];

    const noOrders = document.getElementById("no-orders");
    const hasOrders = document.getElementById("has-orders");
    const container = document.getElementById("orders-list-container");
    const count = document.getElementById("order-count");
    const summary = document.getElementById("order-summary-details");

    // Ù„Ùˆ Ù…ÙÙŠØ´ Ù…Ù†ØªØ¬Ø§Øª
    if (orders.length === 0) {
        noOrders.style.display = "block";
        hasOrders.style.display = "none";
        return;
    }

    // Ù„Ùˆ ÙÙŠ Ù…Ù†ØªØ¬Ø§Øª
    noOrders.style.display = "none";
    hasOrders.style.display = "block";
    container.innerHTML = "";

    let total = 0;

    orders.forEach((item) => {
        total += item.price * item.quantity;

        container.innerHTML += `
            <div class="order-item">
                <img src="${item.img}" alt="${item.name}">
                <div>
                    <h3>${item.name}</h3>
                    <p>Price: EGP ${item.price}</p>
                    <p>Qty: ${item.quantity}</p>
                </div>
            </div>
        `;
    });

    count.textContent = `${orders.length} items`;

    summary.innerHTML = `
        <p>Total Price: <strong>${total} EGP</strong></p>
        <p>Shipping: <strong>Free</strong></p>
        <p>Grand Total: <strong>${total} EGP</strong></p>
    `;
}

// Clear all orders (clear cart)
function clearAllOrders() {
    localStorage.removeItem("cart");
    location.reload();
}
document.getElementById("completePayment").addEventListener("click", function(e){
    e.preventDefault(); 
    alert("âœ” Payment Completed Successfully!");
    
    
    localStorage.removeItem("cart");

    
    location.reload();
});

</script>

</body>
</html>
